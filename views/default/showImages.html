{{extend 'layout.html'}}
<h1> Project {{=project.name}} {{=project.width}} x {{=project.height}}</h1>
<br>
<div style="margin: auto; width: 1300px ;border: 3px solid #73AD21;padding: 10px;">
{{index = 0}}
{{for w in range(0,project.width):}}
    {{for h in range(0,project.height):}}
        {{num=(w*project.width+h)}}
        {{if index<len(images) and images[index].num == num:}}
            {{=A((DIV(IMG(_src=URL('download', args=images[index].file),_width='100'), _class='test', _id=('draggable'+str(num)),_style="padding: 0px; display:inline-block; width:100px; height:100px; border:1px solid black;")), _href=URL("show",vars=dict(projectId=project.id, num=num)))}}
            {{index=index+1}}
        {{else:}}
            {{=A((DIV( _class='test', _id=('draggable'+str(num)),_style="padding: 0px; display:inline-block; width:100px; height:100px; border:1px solid black;")), _href=URL("show",vars=dict(projectId=project.id, num=num)))}}
        {{pass}}
    {{pass}}
    <br>
{{pass}}

</div>
{{if images:}}
    {{for image in images:}}
        Image: {{=image.title}}
        {{=BR()}}
        <div style="text-align:center">
            <a href="{{=URL('show',args=image.id)}}"> <img src="{{=URL('download', args=image.file)}}" style="width:200px"> </a>
        </div>
    {{pass}}
{{else:}}
<h1> No Images</h1>
{{pass}}


<script type="text/javascript">
$(function () {
    var options = {
        cell_height: 80,
        vertical_margin: 10
    };
    $('.grid-stack').gridstack(options);
});
</script>
